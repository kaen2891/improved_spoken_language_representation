import sys, os
import pandas as pd
import matplotlib.pyplot as plt

paths = os.getcwd()


valid_files = 'salli_valid.csv'
train_files = 'salli_train.csv'
test_files = 'salli_test.csv'


def read_files(paths, files, mode):
  read_data = pd.read_csv(os.path.join(paths, files))
  read_list = read_data[mode+'_sentence'].values.tolist()
  read_tokens =[]
  
  for i in range(len(read_list)):
    sentences = ''.join(read_list[i]).split()
    read_tokens.append(len(sentences))
  return read_tokens
  
train_list = read_files(paths, train_files, 'train')    
valid_list = read_files(paths, valid_files, 'valid')  
test_list = read_files(paths, test_files, 'test')  
figure = plt.figure(figsize=(10,6))

axes01 = figure.add_subplot(1,3,1)
axes02 = figure.add_subplot(1,3,2)
axes03 = figure.add_subplot(1,3,3)

axes01.hist(train_list, color='#1f77b4')
axes01.set_title('Train sentences')
axes01.set_xlabel('Number of words')
axes01.set_ylabel('Number of sentences')

axes02.hist(valid_list, color='#ff7f0e')
axes02.set_title('Valid sentences')
axes02.set_xlabel('Number of words')
axes02.set_ylabel('Number of sentences')

axes03.hist(test_list, color='#2ca02c')
axes03.set_title('Test sentences')
axes03.set_xlabel('Number of words')
axes03.set_ylabel('Number of sentences')
figure.suptitle('Number of words of Audio-SNIPS dataset')
figure.tight_layout()
plt.savefig('Audio-SNIPS datasets.png', dpi=300)
plt.show()